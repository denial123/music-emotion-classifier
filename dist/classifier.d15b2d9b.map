{"version":3,"sources":["scripts\\classifier.ts"],"names":[],"mappings":"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","file":"classifier.d15b2d9b.map","sourceRoot":"..","sourcesContent":["'use strict';\r\n\r\nimport * as dataset from \"../data/Emotion_data.json\";\r\nimport * as toClassify from \"../toClassify/Emotion_features.json\";\r\n\r\n// const Classifier = (p) => {\r\nlet data = {};\r\nlet songsToClassify = {};\r\nconst featuresList = [\r\n    \"tempo\",\r\n    \"total_beats\",\r\n    \"average_beats\",\r\n    \"chroma_stft_mean\",\r\n    \"chroma_stft_std\",\r\n    \"chroma_stft_var\",\r\n    \"chroma_cq_mean\",\r\n    \"chroma_cq_std\",\r\n    \"chroma_cq_var\",\r\n    \"chroma_cens_mean\",\r\n    \"chroma_cens_std\",\r\n    \"chroma_cens_var\",\r\n    \"melspectrogram_mean\",\r\n    \"melspectrogram_std\",\r\n    \"melspectrogram_var\",\r\n    \"mfcc_mean\",\r\n    \"mfcc_std\",\r\n    \"mfcc_var\",\r\n    \"mfcc_delta_mean\",\r\n    \"mfcc_delta_std\",\r\n    \"mfcc_delta_var\",\r\n    \"rmse_mean\",\r\n    \"rmse_std\",\r\n    \"rmse_var\",\r\n    \"cent_mean\",\r\n    \"cent_std\",\r\n    \"cent_var\",\r\n    \"spec_bw_mean\",\r\n    \"spec_bw_std\",\r\n    \"spec_bw_var\",\r\n    \"contrast_mean\",\r\n    \"contrast_std\",\r\n    \"contrast_var\",\r\n    \"rolloff_mean\",\r\n    \"rolloff_std\",\r\n    \"rolloff_var\",\r\n    \"poly_mean\",\r\n    \"poly_std\",\r\n    \"poly_var\",\r\n    \"tonnetz_mean\",\r\n    \"tonnetz_std\",\r\n    \"tonnetz_var\",\r\n    \"zcr_mean\",\r\n    \"zcr_std\",\r\n    \"zcr_var\",\r\n    \"harm_mean\",\r\n    \"harm_std\",\r\n    \"harm_var\",\r\n    \"perc_mean\",\r\n    \"perc_std\",\r\n    \"perc_var\",\r\n    \"frame_mean\",\r\n    \"frame_std\",\r\n    \"frame_var\"\r\n]; // all sound features, inputs\r\nlet featuresMinMax = [];\r\n\r\nsetup();\r\n\r\nfunction setup(): void {\r\n\r\n    loadJSON(dataset.default) // We have to use .default to load the url correctly with parcel\r\n        .then((jsonDataset) => {\r\n            data = JSON.parse(jsonDataset);\r\n            return loadJSON(toClassify.default);\r\n        })\r\n        .then((jsonSongs) => {\r\n            songsToClassify = JSON.parse(jsonSongs);\r\n            for (let i=0; i<featuresList.length; i++) {\r\n                getMinMaxValues(featuresList[i]);\r\n            }\r\n            console.log(featuresMinMax);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    // songsToClassify = loadJSON(toClassify, () => {\r\n\r\n}\r\n\r\nfunction loadJSON(url: string): Promise<any> {\r\n\r\n    return new Promise((resolve, reject) => {\r\n        let xobj = new XMLHttpRequest();\r\n        xobj.overrideMimeType(\"application/json\");\r\n        xobj.open('GET', url, true); // Replace 'my_data' with the path to your file\r\n        xobj.onreadystatechange = () => {\r\n            if (xobj.readyState == 4 && xobj.status == 200) {\r\n                resolve(xobj.responseText);\r\n            }\r\n        };\r\n        xobj.send(null);\r\n        xobj.onerror = () => reject(xobj.statusText);\r\n    });\r\n\r\n}\r\n\r\nfunction getMinMaxValues(feature: string): void {\r\n    let maxValue = 0;\r\n    let minValue = 0;\r\n    let counter = 0;\r\n\r\n    for (const song in data) {\r\n        let value = data[song][feature];\r\n        if (counter === 0) {\r\n            maxValue = value;\r\n            minValue = value;\r\n        }\r\n        if (value > maxValue) {\r\n            maxValue = value;\r\n        }\r\n        if (value < minValue) {\r\n            minValue = value;\r\n        }\r\n        counter++;\r\n    }\r\n\r\n    featuresMinMax.push({\r\n        \"feature\": feature,\r\n        \"min\": minValue,\r\n        \"max\": maxValue\r\n    });\r\n}\r\n\r\n\r\n\r\n"]}